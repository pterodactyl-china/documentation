<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Upgrading PHP | Pterodactyl-China</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#0e4688">
    <link rel="manifest" href="/favicons/site.webmanifest">
    <link rel="shortcut icon" href="/favicons/favicon.ico">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-KWVNS6PXK2"></script>
    <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KWVNS6PXK2');
        </script>
    <meta name="description" content="ç¿¼é¾™æ˜¯ä¸€ä¸ªä½¿ç”¨ PHPã€React å’Œ Go æ„å»ºçš„å¼€æºæ¸¸æˆæœåŠ¡å™¨ç®¡ç†é¢æ¿ã€‚ç¿¼é¾™åœ¨è®¾è®¡æ—¶è€ƒè™‘äº†å®‰å…¨æ€§ï¼Œåœ¨éš”ç¦»çš„ Docker é•œåƒä¸­è¿è¡Œæ‰€æœ‰æ¸¸æˆæœåŠ¡å™¨ï¼ŒåŒæ—¶å‘æœ€ç»ˆç”¨æˆ·å±•ç¤ºäº†ç¾è§‚ç›´è§‚çš„ UIã€‚">
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    <meta name="theme-color" content="#0e4688">
    
    <link rel="preload" href="/assets/css/0.styles.b3d0dfa6.css" as="style"><link rel="preload" href="/assets/js/app.ab3e1f5b.js" as="script"><link rel="preload" href="/assets/js/4.b7a00d48.js" as="script"><link rel="preload" href="/assets/js/1.db0c5d2f.js" as="script"><link rel="preload" href="/assets/js/58.4acf46e4.js" as="script"><link rel="prefetch" href="/assets/js/10.cdd4a61d.js"><link rel="prefetch" href="/assets/js/11.e351399b.js"><link rel="prefetch" href="/assets/js/12.2ac392ed.js"><link rel="prefetch" href="/assets/js/13.bc71c776.js"><link rel="prefetch" href="/assets/js/14.89240601.js"><link rel="prefetch" href="/assets/js/15.807fe106.js"><link rel="prefetch" href="/assets/js/16.0f854349.js"><link rel="prefetch" href="/assets/js/17.c4a3a47e.js"><link rel="prefetch" href="/assets/js/18.f603560b.js"><link rel="prefetch" href="/assets/js/19.6745f1bd.js"><link rel="prefetch" href="/assets/js/2.1c4292ed.js"><link rel="prefetch" href="/assets/js/20.844b5738.js"><link rel="prefetch" href="/assets/js/21.e02b1ab8.js"><link rel="prefetch" href="/assets/js/22.8f51e29a.js"><link rel="prefetch" href="/assets/js/23.5997ebe5.js"><link rel="prefetch" href="/assets/js/24.b8a43fc8.js"><link rel="prefetch" href="/assets/js/25.046fe291.js"><link rel="prefetch" href="/assets/js/26.1531f5e1.js"><link rel="prefetch" href="/assets/js/27.691f8514.js"><link rel="prefetch" href="/assets/js/28.82f3dcaf.js"><link rel="prefetch" href="/assets/js/29.5957e555.js"><link rel="prefetch" href="/assets/js/30.f9eb84a2.js"><link rel="prefetch" href="/assets/js/31.fd782d26.js"><link rel="prefetch" href="/assets/js/32.533170d5.js"><link rel="prefetch" href="/assets/js/33.151f22b8.js"><link rel="prefetch" href="/assets/js/34.4a6f13e0.js"><link rel="prefetch" href="/assets/js/35.600f8d00.js"><link rel="prefetch" href="/assets/js/36.4577cbef.js"><link rel="prefetch" href="/assets/js/37.f5cb60cc.js"><link rel="prefetch" href="/assets/js/38.9413e6ae.js"><link rel="prefetch" href="/assets/js/39.7f9071fc.js"><link rel="prefetch" href="/assets/js/40.f8f20ed6.js"><link rel="prefetch" href="/assets/js/41.07e13253.js"><link rel="prefetch" href="/assets/js/42.b8d6e0ba.js"><link rel="prefetch" href="/assets/js/43.1be2589b.js"><link rel="prefetch" href="/assets/js/44.d995332e.js"><link rel="prefetch" href="/assets/js/45.8f0eae8e.js"><link rel="prefetch" href="/assets/js/46.b2a63dad.js"><link rel="prefetch" href="/assets/js/47.4e7a8ee0.js"><link rel="prefetch" href="/assets/js/48.efed2bc0.js"><link rel="prefetch" href="/assets/js/49.12cb9c80.js"><link rel="prefetch" href="/assets/js/5.808a266f.js"><link rel="prefetch" href="/assets/js/50.49bac993.js"><link rel="prefetch" href="/assets/js/51.8c4beb61.js"><link rel="prefetch" href="/assets/js/52.d920d7ab.js"><link rel="prefetch" href="/assets/js/53.41f50e15.js"><link rel="prefetch" href="/assets/js/54.bd4d9623.js"><link rel="prefetch" href="/assets/js/55.802f487f.js"><link rel="prefetch" href="/assets/js/56.39e457fc.js"><link rel="prefetch" href="/assets/js/57.f4d28049.js"><link rel="prefetch" href="/assets/js/59.e9302632.js"><link rel="prefetch" href="/assets/js/6.4297e35e.js"><link rel="prefetch" href="/assets/js/60.0478b09d.js"><link rel="prefetch" href="/assets/js/61.097cdced.js"><link rel="prefetch" href="/assets/js/62.8fb5312f.js"><link rel="prefetch" href="/assets/js/63.88ffdf51.js"><link rel="prefetch" href="/assets/js/64.e1c3f5fc.js"><link rel="prefetch" href="/assets/js/65.b57ed724.js"><link rel="prefetch" href="/assets/js/66.c05a181a.js"><link rel="prefetch" href="/assets/js/67.730e3660.js"><link rel="prefetch" href="/assets/js/68.fa672725.js"><link rel="prefetch" href="/assets/js/69.305320cf.js"><link rel="prefetch" href="/assets/js/7.396b95f8.js"><link rel="prefetch" href="/assets/js/70.ca38f80b.js"><link rel="prefetch" href="/assets/js/71.d3fc8b34.js"><link rel="prefetch" href="/assets/js/72.812e1059.js"><link rel="prefetch" href="/assets/js/73.627aaf97.js"><link rel="prefetch" href="/assets/js/74.333b7407.js"><link rel="prefetch" href="/assets/js/75.63e634ea.js"><link rel="prefetch" href="/assets/js/76.341cfca9.js"><link rel="prefetch" href="/assets/js/77.0ab84a64.js"><link rel="prefetch" href="/assets/js/78.a812a626.js"><link rel="prefetch" href="/assets/js/79.c4f43a1d.js"><link rel="prefetch" href="/assets/js/8.7d528902.js"><link rel="prefetch" href="/assets/js/9.49432b78.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3d0dfa6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="fixed h-12 w-full z-50 top-0"><div class="h-12 w-full bg-black flex items-center justify-center px-4"><p class="text-grey-lightest font-semibold">
        æ¬¢è¿æ”¯æŒ ç¿¼é¾™ä¸­å›½ CNÂ 
        <a href="https://github.com/pterodactyl-china/documentation" target="_blank" rel="noindex nofollow noopener" class="text-blue-lighter">ç°åœ¨å°±æ”¯æŒ</a></p></div></div> <div class="theme-container mt-12"><header class="nav"><div class="sidebar-button block md:hidden flex-no-shrink"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="logo-container"><a href="/" class="home-link router-link-active"><img src="/logos/pterry.svg" class="logo"> <span class="site-name hidden md:inline can-hide">Pterodactyl-China</span></a></div> <div class="w-full"><div class="flex"><div class="search-box"><input aria-label="æœç´¢" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links flex-no-shrink hidden md:flex"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">æ–‡æ¡£
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">ç¤¾åŒºæŒ‡å—
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    è·å–å¸®åŠ©
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links flex-no-shrink block md:hidden"><div class="nav-item"><a href="/project/introduction.html" class="nav-link">æ–‡æ¡£
</a></div><div class="nav-item"><a href="/community/about.html" class="nav-link">ç¤¾åŒºæŒ‡å—
</a></div><div class="nav-item"><a href="https://kook.top/0Grsf5" target="_blank" rel="noopener noreferrer" class="nav-link external">
    è·å–å¸®åŠ©
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://dashflo.net/docs/api/pterodactyl/v1/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    API
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <div class="nav-item"><a href="https://github.com/pterodactyl-china/panel" target="_blank" rel="noopener noreferrer" class="nav-link">
            GitHub
            <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>é¡¹ç›®ä¿¡æ¯</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/project/introduction.html" class="sidebar-link">ä»‹ç»</a></li><li><a href="/project/about.html" class="sidebar-link">å…³äº</a></li><li><a href="/project/terms.html" class="sidebar-link">Terminology</a></li><li><a href="/project/community.html" class="sidebar-link">Community Standards</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>é¢æ¿ (å‰ç«¯)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.9
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.9
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/panel/1.0/getting_started.html" class="sidebar-link">å¼€å§‹å…¥é—¨</a></li><li><a href="/panel/1.0/btpanel_getstarted.html" class="sidebar-link">ä½¿ç”¨å®å¡”ï¼ˆBT-Panelï¼‰é¢æ¿æ­å»º</a></li><li><a href="/panel/1.0/webserver_configuration.html" class="sidebar-link">ç½‘ç»œæœåŠ¡å™¨é…ç½®</a></li><li><a href="/panel/1.0/additional_configuration.html" class="sidebar-link">å…¶ä»–é…ç½®</a></li><li><a href="/panel/1.0/updating.html" class="sidebar-link">æ›´æ–°é¢æ¿</a></li><li><a href="/panel/1.0/troubleshooting.html" class="sidebar-link">ç–‘éš¾è§£ç­”</a></li><li><a href="/panel/1.0/legacy_upgrade.html" class="sidebar-link">æ—§ç‰ˆå‡çº§</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Wings (åç«¯)</span> <!----> <div tabindex="0" class="version-select custom-select float-right"><div class="selected"><div class="inline-block">
  1.6
  <span class="rounded-full ml-2 text-green-dark">current</span></div> <span class="arrow"></span></div> <div class="items hidden"><div class="item"><div class="inline-block">
  1.6
  <span class="rounded-full ml-2 text-green-dark">current</span></div></div></div></div></p> <ul class="sidebar-group-items"><li><a href="/wings/1.0/installing.html" class="sidebar-link">å®‰è£… Wings</a></li><li><a href="/wings/1.0/upgrading.html" class="sidebar-link">å‡çº§ Wings</a></li><li><a href="/wings/1.0/migrating.html" class="sidebar-link">Migrating to Wings</a></li><li><a href="/wings/1.0/configuration.html" class="sidebar-link">Additional Configuration</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>æ•™ç¨‹</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/tutorials/mysql_setup.html" class="sidebar-link">Setting up MySQL</a></li><li><a href="/tutorials/creating_ssl_certificates.html" class="sidebar-link">Creating SSL Certificates</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>æŒ‡å—</span> <!----> <!----></p> <ul class="sidebar-group-items"><li><a href="/guides/mounts.html" class="sidebar-link">Using Mounts</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>å¼€å‘ä¸è¿è¥</span> <span class="arrow right"></span> <!----></p> <!----></div></li></ul> </div> <div class="page"> <div class="content content__default"><h1 id="upgrading-php"><a href="#upgrading-php" class="header-anchor">#</a> Upgrading PHP</h1> <p>This documentation includes instructions for upgrading your system to the latest version of PHP. Please reference the
table below to check what version you need for your version of Pterodactyl.</p> <table><thead><tr><th>Panel Version</th> <th>PHP Version</th></tr></thead> <tbody><tr><td>1.0.0 - 1.2.0</td> <td>7.3, 7.4</td></tr> <tr><td>1.3.0+</td> <td>7.4, 8.0</td></tr> <tr><td>1.8.0+</td> <td>7.4, 8.0, 8.1</td></tr></tbody></table> <h2 id="install-php"><a href="#install-php" class="header-anchor">#</a> Install PHP</h2> <p>In order to install PHP 8.1, you will need to run the following command. Please keep in mind different operating systems
may have slightly different requirements for how this command is formatted.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Add additional repository for PHP</span>
add-apt-repository -y ppa:ondrej/php
<span class="token function">apt</span> -y update
<span class="token function">apt</span> -y <span class="token function">install</span> php8.1 php8.1-<span class="token punctuation">{</span>cli,gd,mysql,pdo,mbstring,tokenizer,bcmath,xml,fpm,curl,zip<span class="token punctuation">}</span>
</code></pre></div><h2 id="update-composer"><a href="#update-composer" class="header-anchor">#</a> Update Composer</h2> <p>As of <code>Panel@1.3.0</code> we require <code>composer</code> v2. To update composer you will need to run the following command which will
perform the composer self-update process and move you over to version 2.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>composer self-update --2
</code></pre></div><h2 id="webserver-configuration"><a href="#webserver-configuration" class="header-anchor">#</a> Webserver Configuration</h2> <div class="tabs-component"><ul role="tablist" class="tabs-component-tabs"></ul> <div class="tabs-component-panels"><section aria-hidden="true" id="nginx" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>After upgrading to PHP 8.1, you will most likely need to update your NGINX configuration. Your configuration file
is most likely called <code>pterodactyl.conf</code> and located in the <code>/etc/nginx/sites-available/</code> directory, or if on CentOS,
<code>/etc/nginx/conf.d/</code>.</p> <p>Make sure to update the path in the command below to reflect the actual location of your configuration file.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sed</span> -i -e <span class="token string">'s/php[7|8].[0-9]-fpm.sock/php8.1-fpm.sock/'</span> /etc/nginx/sites-available/pterodactyl.conf
</code></pre></div><p>Once you have edited the file run the command below to reload nginx and apply your changes.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>systemctl reload nginx
</code></pre></div></section> <section aria-hidden="true" id="apache" role="tabpanel" class="tabs-component-panel" style="display:none;"><p>Run the commands below to disable all previous PHP versions and enable PHP 8.1 when serving requests.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Hint: a2dismod = a2_disable_module ğŸ¤¯</span>
a2dismod php*

<span class="token comment"># Hint: a2enmod = a2_enable_module ğŸ¤¯</span>
a2enmod php8.1

</code></pre></div></section></div></div> <h3 id="return-to-the-1-x-x-upgrade-guide"><a href="#return-to-the-1-x-x-upgrade-guide" class="header-anchor">#</a> <a href="/panel/1.0/upgrade/1.0.html#fetch-updated-files">Return to the 1.X.X Upgrade Guide</a></h3></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pterodactyl-china/documentation/edit/master/guides/php_upgrade.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘ä»¬æ”¹è¿›æ­¤é¡µé¢ã€‚</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></div> <!----> </div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ab3e1f5b.js" defer></script><script src="/assets/js/4.b7a00d48.js" defer></script><script src="/assets/js/1.db0c5d2f.js" defer></script><script src="/assets/js/58.4acf46e4.js" defer></script>
  </body>
</html>
