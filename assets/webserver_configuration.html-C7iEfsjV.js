import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{e as u,f as s,h as t,j as n,i,r as c,o}from"./app-CezBk04F.js";const h={},m={class:"hint-container warning"},b={class:"hint-container tip"},k={id:"下一步-wings-后端-安装",tabindex:"-1"},v={class:"header-anchor",href:"#下一步-wings-后端-安装"};function g(y,l){const r=c("RouteLink"),d=c("Tabs");return o(),u("div",null,[l[30]||(l[30]=s("h1",{id:"网络服务器配置",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#网络服务器配置"},[s("span",null,"网络服务器配置")])],-1)),s("div",m,[l[3]||(l[3]=s("p",{class:"hint-container-title"},"注意",-1)),s("p",null,[l[1]||(l[1]=n("使用 SSL 配置时，您必须创建 SSL 证书，否则您的网络服务器将无法启动。请参阅 ")),t(r,{to:"/tutorials/creating_ssl_certificates.html"},{default:i(()=>l[0]||(l[0]=[n("创建 SSL 证书")])),_:1}),l[2]||(l[2]=n(" 文档页面以了解如何在继续之前创建这些证书。"))])]),l[31]||(l[31]=s("div",{class:"hint-container tip"},[s("p",{class:"hint-container-title"},"提示"),s("p",null,[n("如果您使用"),s("a",{href:"#caddy-with-automatic-ssl"},"自动续签 SSL 的 Caddy"),n("，则无需手动创建 SSL 证书，Caddy 会自动处理。")])],-1)),t(d,{id:"13",data:[{id:"使用 SSL 的 Nginx"},{id:"没有使用 SSL 的 Nginx"},{id:"使用 SSL 的 Apache"},{id:"没有使用 SSL 的 Apache"},{id:"自动续签 SSL 的 Caddy"},{id:"没有使用 SSL 的 Caddy"}]},{title0:i(({value:e,isActive:a})=>l[4]||(l[4]=[n("使用 SSL 的 Nginx")])),title1:i(({value:e,isActive:a})=>l[5]||(l[5]=[n("没有使用 SSL 的 Nginx")])),title2:i(({value:e,isActive:a})=>l[6]||(l[6]=[n("使用 SSL 的 Apache")])),title3:i(({value:e,isActive:a})=>l[7]||(l[7]=[n("没有使用 SSL 的 Apache")])),title4:i(({value:e,isActive:a})=>l[8]||(l[8]=[n("自动续签 SSL 的 Caddy")])),title5:i(({value:e,isActive:a})=>l[9]||(l[9]=[n("没有使用 SSL 的 Caddy")])),tab0:i(({value:e,isActive:a})=>l[10]||(l[10]=[s("p",null,"首先，删除默认的 NGINX 配置。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"rm"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-enabled/default")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("p",null,[n("现在，您应该复制下面文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您使用的域名后，粘贴到名为 "),s("code",null,"pterodactyl.conf"),n(" 的文件中，并将该文件放在 "),s("code",null,"/etc/nginx/sites-available/"),n(" 目录下， 或 — 如果在 RHEL 、 Rocky Linux 或 AlmaLinux 上，则为 "),s("code",null,"/etc/nginx/conf.d/"),n("。")],-1),s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"server {")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line"},[s("span",null,"    listen 80;")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    server_name <domain>;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    return 301 https://$server_name$request_uri;")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"server {")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line"},[s("span",null,"    listen 443 ssl http2;")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    server_name <domain>;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    root /var/www/pterodactyl/public;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    index index.php;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    access_log /var/log/nginx/pterodactyl.app-access.log;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    error_log  /var/log/nginx/pterodactyl.app-error.log error;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # allow larger file uploads and longer script runtimes")]),n(`
`),s("span",{class:"line"},[s("span",null,"    client_max_body_size 100m;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    client_body_timeout 120s;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    sendfile off;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # SSL Configuration - Replace the example <domain> with your domain")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    ssl_certificate /etc/letsencrypt/live/<domain>/fullchain.pem;")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    ssl_certificate_key /etc/letsencrypt/live/<domain>/privkey.pem;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    ssl_session_cache shared:SSL:10m;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    ssl_protocols TLSv1.2 TLSv1.3;")]),n(`
`),s("span",{class:"line"},[s("span",null,'    ssl_ciphers "ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384";')]),n(`
`),s("span",{class:"line"},[s("span",null,"    ssl_prefer_server_ciphers on;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # See https://hstspreload.org/ before uncommenting the line below.")]),n(`
`),s("span",{class:"line"},[s("span",null,'    # add_header Strict-Transport-Security "max-age=15768000; preload;";')]),n(`
`),s("span",{class:"line"},[s("span",null,"    add_header X-Content-Type-Options nosniff;")]),n(`
`),s("span",{class:"line"},[s("span",null,'    add_header X-XSS-Protection "1; mode=block";')]),n(`
`),s("span",{class:"line"},[s("span",null,"    add_header X-Robots-Tag none;")]),n(`
`),s("span",{class:"line"},[s("span",null,`    add_header Content-Security-Policy "frame-ancestors 'self'";`)]),n(`
`),s("span",{class:"line"},[s("span",null,"    add_header X-Frame-Options DENY;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    add_header Referrer-Policy same-origin;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location / {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        try_files $uri $uri/ /index.php?$query_string;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location ~ \\.php$ {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_split_path_info ^(.+\\.php)(/.+)$;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_pass unix:/run/php/php8.3-fpm.sock;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_index index.php;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        include fastcgi_params;")]),n(`
`),s("span",{class:"line"},[s("span",null,'        fastcgi_param PHP_VALUE "upload_max_filesize = 100M \\n post_max_size=100M";')]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;")]),n(`
`),s("span",{class:"line"},[s("span",null,'        fastcgi_param HTTP_PROXY "";')]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_intercept_errors off;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_buffer_size 16k;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_buffers 4 16k;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_connect_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_send_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_read_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        include /etc/nginx/fastcgi_params;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location ~ /\\.ht {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        deny all;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"启用配置",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置"},[s("span",null,"启用配置")])],-1),s("p",null,"最后一步是启用 NGINX 配置并重新启动它。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 如果您使用的是 RHEL 、 Rocky Linux 或 AlmaLinux，则不需要符号链接此文件。")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ln"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-available/pterodactyl.conf"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-enabled/pterodactyl.conf")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 无论操作系统如何，您都需要重新启动 nginx。")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nginx")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:i(({value:e,isActive:a})=>l[11]||(l[11]=[s("p",null,"首先，删除默认的 NGINX 配置。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"rm"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-enabled/default")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("p",null,[n("现在，您应该复制下面文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您使用的域名后，粘贴到名为 "),s("code",null,"pterodactyl.conf"),n(" 的文件中，并将该文件放在 "),s("code",null,"/etc/nginx/sites-available/"),n(" 目录下， 或 — 如果在 RHEL 、 Rocky Linux 或 AlmaLinux 上，则为 "),s("code",null,"/etc/nginx/conf.d/"),n("。")],-1),s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"server {")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line"},[s("span",null,"    listen 80;")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    server_name <domain>;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    root /var/www/pterodactyl/public;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    index index.html index.htm index.php;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    charset utf-8;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location / {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        try_files $uri $uri/ /index.php?$query_string;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location = /favicon.ico { access_log off; log_not_found off; }")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location = /robots.txt  { access_log off; log_not_found off; }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    access_log off;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    error_log  /var/log/nginx/pterodactyl.app-error.log error;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # allow larger file uploads and longer script runtimes")]),n(`
`),s("span",{class:"line"},[s("span",null,"    client_max_body_size 100m;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    client_body_timeout 120s;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    sendfile off;")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location ~ \\.php$ {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_split_path_info ^(.+\\.php)(/.+)$;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_pass unix:/run/php/php8.3-fpm.sock;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_index index.php;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        include fastcgi_params;")]),n(`
`),s("span",{class:"line"},[s("span",null,'        fastcgi_param PHP_VALUE "upload_max_filesize = 100M \\n post_max_size=100M";')]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;")]),n(`
`),s("span",{class:"line"},[s("span",null,'        fastcgi_param HTTP_PROXY "";')]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_intercept_errors off;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_buffer_size 16k;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_buffers 4 16k;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_connect_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_send_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"        fastcgi_read_timeout 300;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    location ~ /\\.ht {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        deny all;")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"启用配置-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置-1"},[s("span",null,"启用配置")])],-1),s("p",null,"最后一步是启用 NGINX 配置并重新启动它。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 如果您使用的是 RHEL 、 Rocky Linux 或 AlmaLinux，则不需要符号链接此文件。")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ln"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-available/pterodactyl.conf"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/nginx/sites-enabled/pterodactyl.conf")]),n(`
`),s("span",{class:"line"}),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 无论操作系统如何，您都需要重新启动 nginx。")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nginx")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab2:i(({value:e,isActive:a})=>l[12]||(l[12]=[s("p",null,"首先，删除默认的 Apache 配置。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"a2dissite"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 000-default.conf")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("p",null,[n("现在，您应该复制下面文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您使用的域名后，粘贴到名为 "),s("code",null,"pterodactyl.conf"),n(" 的文件中，并将该文件放在 "),s("code",null,"/etc/apache2/sites-available"),n(" 目录下， 或 — 如果在 RHEL 、 Rocky Linux 或 AlmaLinux 上，则为 "),s("code",null,"/etc/httpd/conf.d/"),n("。")],-1),s("p",null,[n("注意：使用 Apache 时，请确保您已安装 "),s("code",null,"libapache2-mod-php8.3"),n(" 包，否则 PHP 将不会显示在您的网络服务器上。")],-1),s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"<VirtualHost *:80>")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    ServerName <domain>")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    RewriteEngine On")]),n(`
`),s("span",{class:"line"},[s("span",null,"    RewriteCond %{HTTPS} !=on")]),n(`
`),s("span",{class:"line"},[s("span",null,"    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R,L] ")]),n(`
`),s("span",{class:"line"},[s("span",null,"</VirtualHost>")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"<VirtualHost *:443>")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    ServerName <domain>")]),n(`
`),s("span",{class:"line"},[s("span",null,'    DocumentRoot "/var/www/pterodactyl/public"')]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    AllowEncodedSlashes On")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_value upload_max_filesize 100M")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_value post_max_size 100M")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,'    <Directory "/var/www/pterodactyl/public">')]),n(`
`),s("span",{class:"line"},[s("span",null,"        Require all granted")]),n(`
`),s("span",{class:"line"},[s("span",null,"        AllowOverride all")]),n(`
`),s("span",{class:"line"},[s("span",null,"    </Directory>")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    SSLEngine on")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    SSLCertificateFile /etc/letsencrypt/live/<domain>/fullchain.pem")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    SSLCertificateKeyFile /etc/letsencrypt/live/<domain>/privkey.pem")]),n(`
`),s("span",{class:"line"},[s("span",null,"</VirtualHost>")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"启用配置-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置-2"},[s("span",null,"启用配置")])],-1),s("p",null,[n("创建上面的文件后，只需运行以下命令。如果你在 RHEL 、 Rocky Linux 或 AlmaLinux 上_你不需要运行下面的命令！_你只需要运行 "),s("code",null,"systemctl restart httpd"),n("。")],-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 你不需要在 RHEL 、 Rocky Linux 或 AlmaLinux 上运行这部分的任何命令")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ln"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/apache2/sites-available/pterodactyl.conf"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/apache2/sites-enabled/pterodactyl.conf")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," a2enmod"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rewrite")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," a2enmod"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ssl")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," apache2")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab3:i(({value:e,isActive:a})=>l[13]||(l[13]=[s("p",null,"首先，删除默认的 Apache 配置。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"a2dissite"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," 000-default.conf")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("p",null,[n("现在，您应该复制下面文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您使用的域名后，粘贴到名为 "),s("code",null,"pterodactyl.conf"),n(" 的文件中，并将该文件放在 "),s("code",null,"/etc/apache2/sites-available"),n(" 目录下， 或 — 如果在 RHEL 、 Rocky Linux 或 AlmaLinux 上，则为 "),s("code",null,"/etc/httpd/conf.d/"),n("。")],-1),s("p",null,[n("注意：使用 Apache 时，请确保您已安装 "),s("code",null,"libapache2-mod-php8.3"),n(" 包，否则 PHP 将不会显示在您的网络服务器上。")],-1),s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"<VirtualHost *:80>")]),n(`
`),s("span",{class:"line"},[s("span",null,"    # Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"    ServerName <domain>")]),n(`
`),s("span",{class:"line"},[s("span",null,'    DocumentRoot "/var/www/pterodactyl/public"')]),n(`
`),s("span",{class:"line"},[s("span",null,"    ")]),n(`
`),s("span",{class:"line"},[s("span",null,"    AllowEncodedSlashes On")]),n(`
`),s("span",{class:"line"},[s("span",null,"    ")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_value upload_max_filesize 100M")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_value post_max_size 100M")]),n(`
`),s("span",{class:"line"},[s("span",null,"    ")]),n(`
`),s("span",{class:"line"},[s("span",null,'    <Directory "/var/www/pterodactyl/public">')]),n(`
`),s("span",{class:"line"},[s("span",null,"        AllowOverride all")]),n(`
`),s("span",{class:"line"},[s("span",null,"        Require all granted")]),n(`
`),s("span",{class:"line"},[s("span",null,"    </Directory>")]),n(`
`),s("span",{class:"line"},[s("span",null,"</VirtualHost>")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"启用配置-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置-3"},[s("span",null,"启用配置")])],-1),s("p",null,[n("创建上面的文件后，只需运行以下命令。如果你在 RHEL 、 Rocky Linux 或 AlmaLinux 上_你不需要运行下面的命令！_你只需要运行 "),s("code",null,"systemctl restart httpd"),n("。")],-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 你不需要在 RHEL 、 Rocky Linux 或 AlmaLinux 上运行这部分的任何命令")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ln"),s("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/apache2/sites-available/pterodactyl.conf"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/apache2/sites-enabled/pterodactyl.conf")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," a2enmod"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," rewrite")]),n(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," apache2")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab4:i(({value:e,isActive:a})=>[l[18]||(l[18]=s("p",null,[n("在添加我们自定义配置之前，让我们先移除默认配置。您可以通过删除配置文件的内容或直接删除配置文件，然后从头开始创建一个新的来实现。配置文件的路径是 "),s("code",null,"/etc/caddy/Caddyfile"),n("。")],-1)),l[19]||(l[19]=s("p",null,"要完全删除配置文件，请运行以下命令：",-1)),l[20]||(l[20]=s("div",{class:"language-shell line-numbers-mode","data-highlighter":"shiki","data-ext":"shell","data-title":"shell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"rm"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/caddy/Caddyfile")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)),l[21]||(l[21]=s("p",null,"然后继续使用您选择的编辑器来编写配置。",-1)),l[22]||(l[22]=s("p",null,[n("您应该粘贴以下文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您的域名。")],-1)),l[23]||(l[23]=s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"{")]),n(`
`),s("span",{class:"line"},[s("span",null,"    servers :443 {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        timeouts {")]),n(`
`),s("span",{class:"line"},[s("span",null,"            read_body 120s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        }")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"# Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"<domain> {")]),n(`
`),s("span",{class:"line"},[s("span",null,"    root * /var/www/pterodactyl/public")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    file_server")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_fastcgi unix//run/php/php8.3-fpm.sock {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        root /var/www/pterodactyl/public")]),n(`
`),s("span",{class:"line"},[s("span",null,"        index index.php")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,'        env PHP_VALUE "upload_max_filesize = 100M')]),n(`
`),s("span",{class:"line"},[s("span",null,'        post_max_size = 100M"')]),n(`
`),s("span",{class:"line"},[s("span",null,'        env HTTP_PROXY ""')]),n(`
`),s("span",{class:"line"},[s("span",null,'        env HTTPS "on"')]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"        read_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        dial_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        write_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,'    header Strict-Transport-Security "max-age=16768000; preload;"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Content-Type-Options "nosniff"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-XSS-Protection "1; mode=block;"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Robots-Tag "none"')]),n(`
`),s("span",{class:"line"},[s("span",null,`    header Content-Security-Policy "frame-ancestors 'self'"`)]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Frame-Options "DENY"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header Referrer-Policy "same-origin"')]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    request_body {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        max_size 100m")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    respond /.ht* 403")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    log {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        output file /var/log/caddy/pterodactyl.log {")]),n(`
`),s("span",{class:"line"},[s("span",null,"            roll_size 100MiB")]),n(`
`),s("span",{class:"line"},[s("span",null,"            roll_keep_for 7d")]),n(`
`),s("span",{class:"line"},[s("span",null,"        }")]),n(`
`),s("span",{class:"line"},[s("span",null,"        level INFO")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)),s("div",b,[l[17]||(l[17]=s("p",{class:"hint-container-title"},"提示",-1)),s("p",null,[l[15]||(l[15]=n("如果您正在使用 Cloudflare DNS 且配置为代理模式，请参考")),t(r,{to:"/tutorials/creating_ssl_certificates.html#method-3:-caddy-(using-cloudflare-api)"},{default:i(()=>l[14]||(l[14]=[n("此教程")])),_:1}),l[16]||(l[16]=n("，了解如何配置 Caddy 以使用 DNS 验证方式获取 SSL 证书。"))])]),l[24]||(l[24]=s("h3",{id:"启用配置-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置-4"},[s("span",null,"启用配置")])],-1)),l[25]||(l[25]=s("p",null,"最后一步是重新启动 Caddy。",-1)),l[26]||(l[26]=s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," caddy")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1))]),tab5:i(({value:e,isActive:a})=>l[27]||(l[27]=[s("p",null,[n("在添加我们自定义配置之前，让我们先移除默认配置。您可以通过删除配置文件的内容或直接删除配置文件，然后从头开始创建一个新的来实现。配置文件的路径是 "),s("code",null,"/etc/caddy/Caddyfile"),n("。")],-1),s("p",null,"要完全删除配置文件，请运行以下命令：",-1),s("div",{class:"language-shell line-numbers-mode","data-highlighter":"shiki","data-ext":"shell","data-title":"shell",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"rm"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/caddy/Caddyfile")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("p",null,"然后继续使用您选择的编辑器来编写配置。",-1),s("p",null,[n("您应该粘贴以下文件的内容，将 "),s("code",null,"<domain>"),n(" 替换为您的域名。")],-1),s("p",null,[n("唯一的两个变化是在 "),s("code",null,"<domain>"),n(" 后缀添加了 "),s("code",null,":80"),n("，并且在全局配置的 "),s("code",null,"servers"),n(" 指令中，将端口从 "),s("code",null,":443"),n(" 更改为 "),s("code",null,":80"),n("。")],-1),s("div",{class:"language-conf line-numbers-mode","data-highlighter":"shiki","data-ext":"conf","data-title":"conf",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"{")]),n(`
`),s("span",{class:"line"},[s("span",null,"    servers :80 {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        timeouts {")]),n(`
`),s("span",{class:"line"},[s("span",null,"            read_body 120s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        }")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"# Replace the example <domain> with your domain name or IP address")]),n(`
`),s("span",{class:"line highlighted"},[s("span",null,"<domain>:80 {")]),n(`
`),s("span",{class:"line"},[s("span",null,"    root * /var/www/pterodactyl/public")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    file_server")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    php_fastcgi unix//run/php/php8.3-fpm.sock {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        root /var/www/pterodactyl/public")]),n(`
`),s("span",{class:"line"},[s("span",null,"        index index.php")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,'        env PHP_VALUE "upload_max_filesize = 100M')]),n(`
`),s("span",{class:"line"},[s("span",null,'        post_max_size = 100M"')]),n(`
`),s("span",{class:"line"},[s("span",null,'        env HTTP_PROXY ""')]),n(`
`),s("span",{class:"line"},[s("span",null,'        # env HTTPS "on" # IMPORTANT: this is commented out, to disable HTTPS')]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"        read_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        dial_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"        write_timeout 300s")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,'    header Strict-Transport-Security "max-age=16768000; preload;"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Content-Type-Options "nosniff"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-XSS-Protection "1; mode=block;"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Robots-Tag "none"')]),n(`
`),s("span",{class:"line"},[s("span",null,`    header Content-Security-Policy "frame-ancestors 'self'"`)]),n(`
`),s("span",{class:"line"},[s("span",null,'    header X-Frame-Options "DENY"')]),n(`
`),s("span",{class:"line"},[s("span",null,'    header Referrer-Policy "same-origin"')]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    request_body {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        max_size 100m")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    respond /.ht* 403")]),n(`
`),s("span",{class:"line"},[s("span")]),n(`
`),s("span",{class:"line"},[s("span",null,"    log {")]),n(`
`),s("span",{class:"line"},[s("span",null,"        output file /var/log/caddy/pterodactyl.log {")]),n(`
`),s("span",{class:"line"},[s("span",null,"            roll_size 100MiB")]),n(`
`),s("span",{class:"line"},[s("span",null,"            roll_keep_for 7d")]),n(`
`),s("span",{class:"line"},[s("span",null,"        }")]),n(`
`),s("span",{class:"line"},[s("span",null,"        level INFO")]),n(`
`),s("span",{class:"line"},[s("span",null,"    }")]),n(`
`),s("span",{class:"line"},[s("span",null,"}")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"启用配置-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#启用配置-5"},[s("span",null,"启用配置")])],-1),s("p",null,"最后一步是重新启动 Caddy。",-1),s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"systemctl"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),s("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," caddy")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),_:1}),s("h4",k,[s("a",v,[s("span",null,[l[29]||(l[29]=n("下一步：")),t(r,{to:"/wings/1.0/installing.html"},{default:i(()=>l[28]||(l[28]=[n("Wings (后端) 安装")])),_:1})])])])])}const F=p(h,[["render",g],["__file","webserver_configuration.html.vue"]]),_=JSON.parse('{"path":"/panel/1.0/webserver_configuration.html","title":"网络服务器配置","lang":"zh-CN","frontmatter":{"description":"网络服务器配置 注意 使用 SSL 配置时，您必须创建 SSL 证书，否则您的网络服务器将无法启动。请参阅 文档页面以了解如何在继续之前创建这些证书。 提示 如果您使用自动续签 SSL 的 Caddy，则无需手动创建 SSL 证书，Caddy 会自动处理。 下一步：","head":[["meta",{"property":"og:url","content":"https://pterodactyl.top/panel/1.0/webserver_configuration.html"}],["meta",{"property":"og:site_name","content":"Pterodactyl-China"}],["meta",{"property":"og:title","content":"网络服务器配置"}],["meta",{"property":"og:description","content":"网络服务器配置 注意 使用 SSL 配置时，您必须创建 SSL 证书，否则您的网络服务器将无法启动。请参阅 文档页面以了解如何在继续之前创建这些证书。 提示 如果您使用自动续签 SSL 的 Caddy，则无需手动创建 SSL 证书，Caddy 会自动处理。 下一步："}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-03T15:09:25.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-03T15:09:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"网络服务器配置\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-03T15:09:25.000Z\\",\\"author\\":[]}"]]},"git":{"createdTime":1532300604000,"updatedTime":1741014565000,"contributors":[{"name":"Dane Everitt","username":"Dane Everitt","email":"dane@daneeveritt.com","commits":4,"url":"https://github.com/Dane Everitt"},{"name":"Isaac A","username":"Isaac A","email":"6174343+tenten8401@users.noreply.github.com","commits":3,"url":"https://github.com/Isaac A"},{"name":"Glare Masters","username":"Glare Masters","email":"admin@glaremasters.me","commits":1,"url":"https://github.com/Glare Masters"},{"name":"iamkubi","username":"iamkubi","email":"iamkubi@gmail.com","commits":1,"url":"https://github.com/iamkubi"},{"name":"Faris","username":"Faris","email":"KingFaris10@users.noreply.github.com","commits":1,"url":"https://github.com/Faris"},{"name":"AreYouScared","username":"AreYouScared","email":"sir3lit@gmail.com","commits":1,"url":"https://github.com/AreYouScared"},{"name":"Omar Kamel","username":"Omar Kamel","email":"30291302+TekExplorer@users.noreply.github.com","commits":1,"url":"https://github.com/Omar Kamel"},{"name":"Charles Morgan","username":"Charles Morgan","email":"sir3lit@gmail.com","commits":3,"url":"https://github.com/Charles Morgan"},{"name":"Jakob Schrettenbrunner","username":"Jakob Schrettenbrunner","email":"dev@schrej.net","commits":2,"url":"https://github.com/Jakob Schrettenbrunner"},{"name":"Alex","username":"Alex","email":"admin@softwarenoob.com","commits":3,"url":"https://github.com/Alex"},{"name":"MysteriousK69","username":"MysteriousK69","email":"63832146+MysteriousK69@users.noreply.github.com","commits":1,"url":"https://github.com/MysteriousK69"},{"name":"Boy132","username":"Boy132","email":"Boy132@users.noreply.github.com","commits":2,"url":"https://github.com/Boy132"},{"name":"Term14","username":"Term14","email":"64224516+Term14@users.noreply.github.com","commits":1,"url":"https://github.com/Term14"},{"name":"PadowYT2","username":"PadowYT2","email":"me@padow.ru","commits":2,"url":"https://github.com/PadowYT2"},{"name":"飒爽师叔","username":"飒爽师叔","email":"43847794+vlssu@users.noreply.github.com","commits":8,"url":"https://github.com/飒爽师叔"},{"name":"Vojtech Mares","username":"Vojtech Mares","email":"iam@vojtechmares.com","commits":9,"url":"https://github.com/Vojtech Mares"},{"name":"Vojtěch Mareš","username":"Vojtěch Mareš","email":"iam@vojtechmares.com","commits":1,"url":"https://github.com/Vojtěch Mareš"},{"name":"Daniel Barton","username":"Daniel Barton","email":"danielb@purpleflaghosting.com","commits":1,"url":"https://github.com/Daniel Barton"},{"name":"Louis Ravignot Dos Santos","username":"Louis Ravignot Dos Santos","email":"louis.rds@akticube.fr","commits":1,"url":"https://github.com/Louis Ravignot Dos Santos"}]},"readingTime":{"minutes":4.22,"words":1266},"filePathRelative":"panel/1.0/webserver_configuration.md","localizedDate":"2018年7月23日","autoDesc":true}');export{F as comp,_ as data};
