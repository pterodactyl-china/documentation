import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,b as s,o as a}from"./app-DPNkEWqQ.js";const n={};function l(r,t){return a(),i("div",null,t[0]||(t[0]=[s(`<h1 id="额外配置" tabindex="-1"><a class="header-anchor" href="#额外配置"><span>额外配置</span></a></h1><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这些是给 Wings 的额外配置,请小心进行配置否则您将有概率损坏 Wings</p></div><p>您需要将 <code>config.yml</code> 放入 <code>/etc/pterodactyl</code> 文件夹然后重启Wings来应用更改设置,请确认您使用的格式是 Yaml ,您可以使用 <a href="http://www.yamllint.com/" target="_blank" rel="noopener noreferrer">Yaml Lint</a> 这样在运行出错时,您就可以收到类似的错误</p><h2 id="提供身份验证" tabindex="-1"><a class="header-anchor" href="#提供身份验证"><span>提供身份验证</span></a></h2><p>在拉取 Docker 镜像时,您可以使用这些设置来对私有 Docker 进行身份验证</p><h3 id="可用密钥" tabindex="-1"><a class="header-anchor" href="#可用密钥"><span>可用密钥</span></a></h3><table><thead><tr><th>设置密钥</th><th style="text-align:center;">默认值</th><th>备注</th></tr></thead><tbody><tr><td>name</td><td style="text-align:center;">null</td><td>认证地址</td></tr><tr><td>username</td><td style="text-align:center;">null</td><td>认证用户名</td></tr><tr><td>password</td><td style="text-align:center;">null</td><td>认证密码</td></tr></tbody></table><h3 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例"><span>使用示例</span></a></h3><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">docker</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  registries</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    registry.example.com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;registryusername&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;registrypassword&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义网络模式" tabindex="-1"><a class="header-anchor" href="#自定义网络模式"><span>自定义网络模式</span></a></h2><p>您可以通过编辑网络模式来更改 Wings 所用 Docker 的网络模式;这通常默认设置为 <code>pterodactyl_nw</code>,例如,如果要启用 Docker 的主机模式请将网络模式更改为 <code>host</code>.</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>更改网络模式为 <code>host</code> 将允许面板直接访问所有主机,面板用户可以绑定到任意的IP或端口(即使没有分配给用户服务器)您将会失去 Docker 网络隔离的保护,所以我们不建议您用于公共 IDC 出租时使用</p></div><h3 id="使用示例-1" tabindex="-1"><a class="header-anchor" href="#使用示例-1"><span>使用示例</span></a></h3><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">docker</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  network</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    network_mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再更改后需要重新启动 Wings (可运行以下命令),您需要注意的是所有风险将由您自己承担! <code>systemctl stop wings &amp;&amp; docker network rm pterodactyl_nw &amp;&amp; systemctl start wings</code></p><h2 id="使用-cloudflare-代理" tabindex="-1"><a class="header-anchor" href="#使用-cloudflare-代理"><span>使用 Cloudflare 代理</span></a></h2><p>使用 Cloudflare 代理 Wings 并没有什么用,因为用户依旧会直连主机，而中间的 Cloudflare 并没有起什么作用,所以您的服务器 IP 仍会被公开</p><p>如果需要启动 Cloudflare 代理您必须将 Wings 端口更改为启用缓存的 Cloudflare 的 HTTPS 端口 <code>8443</code>(更多信息 <a href="https://developers.cloudflare.com/fundamentals/get-started/reference/network-ports/" target="_blank" rel="noopener noreferrer">访问这里</a>),因为 Cloudflare 只支持 8080 端口的 HTTP 协议,您可以在管理页面那里进行更改此端口，在 Cloudflare 中使用 完全SSL 时，请确保设置为 &quot;未使用CDN&quot;，然后到 Cloudflare DNS记录设置页将您 FQDN 旁边的橙色云启用。</p><p>有个问题在于,如果你不购买 Cloudflare 的 <code>企业</code> 套餐,那么就不能代理 SFTP 端口</p><h2 id="容器-pid-限制" tabindex="-1"><a class="header-anchor" href="#容器-pid-限制"><span>容器 PID 限制</span></a></h2><p>您可以通过更改 <code>container_pid_limit</code> 值来更改在任何给定时刻可在容器中运行的进程总数。默认值为<code>512</code>。 您可以将其设置为 <code>0</code> 以完全禁用限制。但是！不推荐这样做，因为该限制可以防止节点的恶意过载。 重新启动 wings 和你的游戏服务器以应用新的限制。</p><h3 id="使用示例-2" tabindex="-1"><a class="header-anchor" href="#使用示例-2"><span>使用示例</span></a></h3><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">docker</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  ...</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  container_pid_limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">512</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="流量限制" tabindex="-1"><a class="header-anchor" href="#流量限制"><span>流量限制</span></a></h2><p>您可以使用以下设置来设置流量限制</p><table><thead><tr><th style="text-align:left;">设置内容</th><th style="text-align:center;">默认值</th><th>备注</th></tr></thead><tbody><tr><td style="text-align:left;">enabled</td><td style="text-align:center;">true</td><td>是否启用流量限制</td></tr><tr><td style="text-align:left;">lines</td><td style="text-align:center;">2000</td><td>给定时间内可输出的总行数,达到上限将调用 line_reset_interval</td></tr><tr><td style="text-align:left;">maximum_trigger_count</td><td style="text-align:center;">5</td><td>在服务器停止之前可触发限制的次数</td></tr><tr><td style="text-align:left;">line_reset_interval</td><td style="text-align:center;">100</td><td>重置行数时间(可为0)</td></tr><tr><td style="text-align:left;">decay_interval</td><td style="text-align:center;">10000</td><td>在不触发限制的情况下等待的时间</td></tr><tr><td style="text-align:left;">stop_grace_period</td><td style="text-align:center;">15</td><td>如果服务器触发限制,则服务器在强制终止前可以停止的时间</td></tr><tr><td style="text-align:left;">write_limit</td><td style="text-align:center;">0</td><td>对磁盘 I/O 的限制,设置0为无限,单位为 MiB/s</td></tr><tr><td style="text-align:left;">download_limit</td><td style="text-align:center;">0</td><td>设置网络 I/O 限制,设置0为无限,单位为 MiB/s</td></tr></tbody></table><h3 id="使用示例-3" tabindex="-1"><a class="header-anchor" href="#使用示例-3"><span>使用示例</span></a></h3><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">throttles</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  lines</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  maximum_trigger_count</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  line_reset_interval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  decay_interval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  stop_grace_period</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">15</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装限制" tabindex="-1"><a class="header-anchor" href="#安装限制"><span>安装限制</span></a></h2><p>设置安装程序容器限制可以帮助服务器安装时无意义的消耗资源,可以和服务器定义的限制一起使用,但在安装实例时会议最高值为基准</p><table><thead><tr><th style="text-align:left;">设置项</th><th style="text-align:center;">默认值</th><th>备注</th></tr></thead><tbody><tr><td style="text-align:left;">memory</td><td style="text-align:center;">1024</td><td>安装容器时可以使用的最大内存</td></tr><tr><td style="text-align:left;">cpu</td><td style="text-align:center;">100</td><td>安装容器时可以使用的最大 CPU 使用率</td></tr></tbody></table><h3 id="使用示例-4" tabindex="-1"><a class="header-anchor" href="#使用示例-4"><span>使用示例</span></a></h3><div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">installer_limits</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  memory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1024</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  cpu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="其他内容" tabindex="-1"><a class="header-anchor" href="#其他内容"><span>其他内容</span></a></h2><p>还有更多可以配置 Wings 的选项和说明 <a href="https://github.com/pterodactyl-china/wings/tree/develop/config" target="_blank" rel="noopener noreferrer">您可点我查看</a></p><table><thead><tr><th>设置项</th><th style="text-align:center;">默认值</th><th>备注</th></tr></thead><tbody><tr><td>debug</td><td style="text-align:center;">false</td><td>强制 Wings 在 Debug 模式运行</td></tr><tr><td>tmpfs_size</td><td style="text-align:center;">100</td><td>挂载实例到 <code>/tmp</code> 目录的大小限制</td></tr><tr><td>websocket_log_count</td><td style="text-align:center;">150</td><td>在控制台中显示的行数</td></tr><tr><td>detect_clean_exit_as_crash</td><td style="text-align:center;">true</td><td>如果服务器没有在交互的情况下意外停止将会标记为已崩溃</td></tr><tr><td>(crash detection) timeout</td><td style="text-align:center;">60</td><td>服务器崩溃自动重启间隔时间</td></tr><tr><td>app_name</td><td style="text-align:center;">&quot;Pterodactyl&quot;</td><td>更改Wings的名称,该项将会显示在面板的控制台中</td></tr><tr><td>check_permissions_on_boot</td><td style="text-align:center;">true</td><td>每次启动时将会检查所有文件的权限,如果您的服务器文件过多请禁用!</td></tr></tbody></table>`,36)]))}const o=e(n,[["render",l],["__file","configuration.html.vue"]]),p=JSON.parse('{"path":"/wings/1.0/configuration.html","title":"额外配置","lang":"zh-CN","frontmatter":{"description":"额外配置 注意 这些是给 Wings 的额外配置,请小心进行配置否则您将有概率损坏 Wings 您需要将 config.yml 放入 /etc/pterodactyl 文件夹然后重启Wings来应用更改设置,请确认您使用的格式是 Yaml ,您可以使用 Yaml Lint 这样在运行出错时,您就可以收到类似的错误 提供身份验证 在拉取 Docker 镜...","head":[["meta",{"property":"og:url","content":"https://pterodactyl.top/wings/1.0/configuration.html"}],["meta",{"property":"og:site_name","content":"Pterodactyl-China"}],["meta",{"property":"og:title","content":"额外配置"}],["meta",{"property":"og:description","content":"额外配置 注意 这些是给 Wings 的额外配置,请小心进行配置否则您将有概率损坏 Wings 您需要将 config.yml 放入 /etc/pterodactyl 文件夹然后重启Wings来应用更改设置,请确认您使用的格式是 Yaml ,您可以使用 Yaml Lint 这样在运行出错时,您就可以收到类似的错误 提供身份验证 在拉取 Docker 镜..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-17T00:57:54.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-17T00:57:54.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"额外配置\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-17T00:57:54.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"提供身份验证","slug":"提供身份验证","link":"#提供身份验证","children":[{"level":3,"title":"可用密钥","slug":"可用密钥","link":"#可用密钥","children":[]},{"level":3,"title":"使用示例","slug":"使用示例","link":"#使用示例","children":[]}]},{"level":2,"title":"自定义网络模式","slug":"自定义网络模式","link":"#自定义网络模式","children":[{"level":3,"title":"使用示例","slug":"使用示例-1","link":"#使用示例-1","children":[]}]},{"level":2,"title":"使用 Cloudflare 代理","slug":"使用-cloudflare-代理","link":"#使用-cloudflare-代理","children":[]},{"level":2,"title":"容器 PID 限制","slug":"容器-pid-限制","link":"#容器-pid-限制","children":[{"level":3,"title":"使用示例","slug":"使用示例-2","link":"#使用示例-2","children":[]}]},{"level":2,"title":"流量限制","slug":"流量限制","link":"#流量限制","children":[{"level":3,"title":"使用示例","slug":"使用示例-3","link":"#使用示例-3","children":[]}]},{"level":2,"title":"安装限制","slug":"安装限制","link":"#安装限制","children":[{"level":3,"title":"使用示例","slug":"使用示例-4","link":"#使用示例-4","children":[]}]},{"level":2,"title":"其他内容","slug":"其他内容","link":"#其他内容","children":[]}],"git":{"createdTime":1604854182000,"updatedTime":1713315474000,"contributors":[{"name":"Dominika Jadowska","username":"Dominika Jadowska","email":"domi.jadowska@gmail.com","commits":1,"url":"https://github.com/Dominika Jadowska"},{"name":"DomiiBunn","username":"DomiiBunn","email":"51760394+DomiiBunn@users.noreply.github.com","commits":1,"url":"https://github.com/DomiiBunn"},{"name":"Jakob","username":"Jakob","email":"dev@schrej.net","commits":1,"url":"https://github.com/Jakob"},{"name":"Softwarenoob","username":"Softwarenoob","email":"admin@softwarenoob.com","commits":2,"url":"https://github.com/Softwarenoob"},{"name":"Alex","username":"Alex","email":"admin@softwarenoob.com","commits":6,"url":"https://github.com/Alex"},{"name":"Foks","username":"Foks","email":"37844753+FoksVHox@users.noreply.github.com","commits":2,"url":"https://github.com/Foks"},{"name":"SfTian","username":"SfTian","email":"52811930+saltedfisholdxu@users.noreply.github.com","commits":1,"url":"https://github.com/SfTian"},{"name":"BuildTools","username":"BuildTools","email":"unconfigured@null.spigotmc.org","commits":1,"url":"https://github.com/BuildTools"},{"name":"飒爽师叔","username":"飒爽师叔","email":"43847794+vlssu@users.noreply.github.com","commits":5,"url":"https://github.com/飒爽师叔"},{"name":"Boy132","username":"Boy132","email":"Boy132@users.noreply.github.com","commits":2,"url":"https://github.com/Boy132"},{"name":"Matt","username":"Matt","email":"78916962+DemsarMa@users.noreply.github.com","commits":1,"url":"https://github.com/Matt"}]},"readingTime":{"minutes":3.85,"words":1155},"filePathRelative":"wings/1.0/configuration.md","localizedDate":"2020年11月9日","autoDesc":true}');export{o as comp,p as data};
